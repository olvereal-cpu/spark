<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SPARK Dating</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --red: #ff4b6b; --gold: #ffcf40; --dark: #121212; }
        
        body { 
            font-family: -apple-system, system-ui, sans-serif; 
            background: var(--dark); color: white; margin: 0; 
            overflow: hidden; display: flex; flex-direction: column; align-items: center;
        }

        header { 
            padding: 15px 0; display: flex; justify-content: center; 
            background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); 
            position: fixed; top: 0; width: 100%; z-index: 1000;
        }
        .logo { font-size: 24px; font-weight: 900; color: var(--red); letter-spacing: 2px; }

        .card-container {
            perspective: 1000px; margin-top: 70px;
            width: 90%; max-width: 380px; height: 65vh; position: relative;
        }

        .card { 
            width: 100%; height: 100%; border-radius: 28px;
            background-size: cover; background-position: center top;
            position: absolute; transition: transform 0.4s ease, opacity 0.4s;
            box-shadow: 0 15px 35px rgba(0,0,0,0.6);
            display: flex; flex-direction: column; justify-content: flex-end;
            overflow: hidden;
        }

        .blur { filter: blur(25px); transform: scale(0.95) !important; }

        .info { 
            padding: 25px 20px; background: linear-gradient(to top, rgba(0,0,0,1) 40%, transparent); 
            text-align: left; 
        }
        .name { font-size: 28px; font-weight: 800; margin-bottom: 5px; }
        .bio { font-size: 15px; opacity: 0.9; line-height: 1.4; color: #eee; }

        .actions { 
            display: flex; justify-content: center; gap: 30px; margin-top: 25px; width: 100%;
        }
        .btn-action {
            width: 70px; height: 70px; border-radius: 50%; border: none;
            font-size: 28px; cursor: pointer; transition: 0.2s;
            display: flex; align-items: center; justify-content: center;
        }
        .btn-dislike { background: white; color: var(--red); }
        .btn-like { background: var(--red); color: white; }

        /* VIP –ë–õ–û–ö */
        #payBlock {
            display: none; flex-direction: column; align-items: center;
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 2000; background: rgba(18, 18, 18, 0.92);
            padding: 30px 20px; box-sizing: border-box; border-radius: 28px;
            border: 1px solid rgba(255, 207, 64, 0.4);
        }

        .vip-features { text-align: left; width: 100%; margin: 20px 0; }
        .feature-item {
            display: flex; align-items: center; margin-bottom: 12px;
            background: rgba(255, 255, 255, 0.07); padding: 12px; border-radius: 15px;
        }
        .feature-icon { margin-right: 15px; font-size: 20px; }
        .feature-text b { color: var(--gold); display: block; font-size: 15px; }
        .feature-text span { font-size: 12px; opacity: 0.8; }

        .btn-vip {
            background: linear-gradient(45deg, #bf953f, #fcf6ba, #aa771c);
            color: black; padding: 20px; width: 100%; border-radius: 18px;
            font-weight: 900; border: none; font-size: 16px;
            text-transform: uppercase; box-shadow: 0 10px 20px rgba(191, 149, 63, 0.4);
        }
    </style>
</head>
<body>

    <header><div class="logo">SPARK</div></header>

    <div class="card-container">
        <div id="mainCard" class="card">
            <div class="info">
                <div id="userName" class="name"></div>
                <div id="userBio" class="bio"></div>
            </div>
        </div>

        <div id="payBlock">
            <h2 style="color: var(--gold); margin: 0 0 10px 0; text-align: center;">GOLD ACCESS üëë</h2>
            <p style="font-size: 14px; opacity: 0.9; text-align: center;">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∞–Ω–∫–µ—Ç—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å!</p>
            
            <div class="vip-features">
                <div class="feature-item">
                    <span class="feature-icon">‚ôæ</span>
                    <div class="feature-text"><b>–ë–ï–ó–õ–ò–ú–ò–¢ –õ–ê–ô–ö–û–í</b><span>–°–≤–∞–π–ø–∞–π –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π</span></div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üëÅ</span>
                    <div class="feature-text"><b>–ö–¢–û –¢–ï–ë–Ø –õ–ê–ô–ö–ù–£–õ?</b><span>–û—Ç–∫—Ä–æ–π –∞–Ω–∫–µ—Ç—ã –ø–æ–∫–ª–æ–Ω–Ω–∏–∫–æ–≤</span></div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üöÄ</span>
                    <div class="feature-text"><b>–ü–†–ò–û–†–ò–¢–ï–¢ –í –ü–û–ò–°–ö–ï</b><span>–¢–µ–±—è –≤–∏–¥—è—Ç –≤ 10 —Ä–∞–∑ —á–∞—â–µ</span></div>
                </div>
            </div>

            <button class="btn-vip" onclick="goToBot()">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ –ó–ê 50 ‚≠êÔ∏è</button>
        </div>
    </div>

    <div class="actions" id="actionBtns">
        <button class="btn-action btn-dislike" onclick="swipe('left')">‚úï</button>
        <button class="btn-action btn-like" onclick="swipe('right')">‚ù§</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        const params = new URLSearchParams(window.location.search);
        const isVip = params.get('is_vip') === '1';
        
        const users = [
            {name: "–ê–ª—ë–Ω–∞, 21", bio: "–õ—é–±–ª—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –∫–æ—Ñ–µ –∏ –¥–ª–∏–Ω–Ω—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏ –ø–æ –≥–æ—Ä–æ–¥—É. ‚ú®", photo: "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=600"},
            {name: "–ú–∞—Ä–∏—è, 19", bio: "–¢–∞–Ω—Ü—É—é –≤ —Å—Ç–∏–ª–µ —Ö–∏–ø-—Ö–æ–ø. –ò—â—É —Ç–æ–≥–æ, –∫—Ç–æ —Ä–∞–∑–¥–µ–ª–∏—Ç –º–æ–π –ø–ª–µ–π–ª–∏—Å—Ç. üé∂", photo: "https://images.unsplash.com/photo-1517841905240-472988babdf9?w=600"},
            {name: "–õ–∏–∑–∞, 24", bio: "–ú–∞—Ä–∫–µ—Ç–æ–ª–æ–≥ –¥–Ω–µ–º, –º–∞—Å—Ç–µ—Ä –π–æ–≥–∏ –≤–µ—á–µ—Ä–æ–º. –î–∞–≤–∞–π –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è! üßò‚Äç‚ôÄÔ∏è", photo: "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=600"},
            {name: "–Æ–ª—è, 22", bio: "–û —Å–µ–±–µ —Ä–∞—Å—Å–∫–∞–∂—É –ø—Ä–∏ –ª–∏—á–Ω–æ–π –≤—Å—Ç—Ä–µ—á–µ... –µ—Å–ª–∏ –∫—É–ø–∏—à—å VIP üòâ", photo: "https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=600"}
        ];

        let current = 0;

        function updateCard() {
            const card = document.getElementById('mainCard');
            const btns = document.getElementById('actionBtns');
            const pay = document.getElementById('payBlock');

            if (!isVip && current >= 3) { 
                card.classList.add('blur');
                card.style.backgroundImage = `url('${users[current].photo}')`;
                document.getElementById('userName').innerText = "–ö—Ç–æ-—Ç–æ –ª–∞–π–∫–Ω—É–ª –≤–∞—Å!";
                document.getElementById('userBio').innerText = "–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å, —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∞–Ω–∫–µ—Ç—É";
                btns.style.opacity = '0.3';
                btns.style.pointerEvents = 'none';
                pay.style.display = 'flex';
                return;
            }

            card.style.backgroundImage = `url('${users[current].photo}')`;
            document.getElementById('userName').innerText = users[current].name;
            document.getElementById('userBio').innerText = users[current].bio;
        }

        function swipe(dir) {
            if (!isVip && current >= 3) return; 

            tg.HapticFeedback.impactOccurred('medium');
            const card = document.getElementById('mainCard');
            card.style.transform = `translateX(${dir === 'right' ? 1000 : -1000}px) rotate(${dir === 'right' ? 30 : -30}deg)`;
            card.style.opacity = '0';

            setTimeout(() => {
                current++;
                if (current >= users.length && isVip) current = 0; 
                
                card.style.transition = 'none';
                card.style.transform = 'translateX(0) rotate(0)';
                updateCard();
                setTimeout(() => {
                    card.style.transition = '0.4s';
                    card.style.opacity = '1';
                }, 50);
            }, 300);
        }

        function goToBot() {
            // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
            tg.HapticFeedback.impactOccurred('heavy');
            
            // –ó–∞–º–µ–Ω–∏ 'GetSparkBot' –Ω–∞ —é–∑–µ—Ä–Ω–µ–π–º —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –ë–ï–ó —Å–æ–±–∞—á–∫–∏
            const botUsername = "GetSparkBot"; 
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º –±–æ—Ç–∞ –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º WebApp
            tg.openTelegramLink(`https://t.me/${botUsername}`);
            tg.close();
        }
    </script>
</body>
</html>